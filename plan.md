# 英語版タグリスト解析スクリプト計画

## 概要

`05command_tech-hub-tag-list.txt` ファイルを解析し、SCP財団Wikiの英語版タグ情報を抽出してJSONファイル (`en_tags.json`) を作成するPythonスクリプトの計画です。

## 処理フロー

1. **ファイル読み込み:** `05command_tech-hub-tag-list.txt` ファイルの内容を読み込みます。
2. **タグ情報抽出:** ファイルを行ごとに走査し、正規表現を用いて以下の情報を抽出します。
    * **タグ名:** `* **[URL TAG_NAME]**` の形式から `TAG_NAME` を抽出します。
    * **説明文:** `--` 以降のテキストを説明文として抽出します。
    * **メタ情報:** タグ定義行の後に続く `* // KEY: VALUE //` の形式から、`Requires`, `Conflicts`, `Supersedes`, `Superseded by`, `Often used with`, `Avoid using with`, `Compare with` などのメタ情報を抽出します。
3. **データ構造化:** 抽出した情報をタグごとにPythonの辞書オブジェクトとしてまとめます。メタ情報は種類ごとにリストで管理します。
4. **JSON出力:** 構造化されたタグデータのリストをJSONファイル (`en_tags.json`) に書き出します。

## 処理フロー図 (Mermaid)

```mermaid
graph TD
    A[開始] --> B{ファイル読み込み\n(05command_tech-hub-tag-list.txt)};
    B --> C{行ごとに処理};
    C --> D{タグ定義行か？\n(正規表現: ^\s*\*\s*\*\*.*\*\*)};
    D -- Yes --> E{タグ名・説明抽出\n(正規表現)};
    E --> F{次の行はメタ情報か？\n(正規表現: ^\s*\*\s*//.*//)};
    F -- Yes --> G{メタ情報抽出};
    G --> F;
    F -- No --> H{タグ情報を辞書に格納};
    H --> C;
    D -- No --> C;
    C --> I{全行処理完了};
    I --> J{タグデータリストをJSONに変換};
    J --> K{JSONファイル出力\n(en_tags.json)};
    K --> L[終了];
```

## 考慮事項

* WikidotのCSSモジュール (`[[module CSS]]`) やタブビュー (`[[tabview]]`, `[[tab ...]]`) などの記法は無視します。
* 見出し行 (`++ ...`, `+++ ...`) も無視します。
* 説明文に含まれるWikidotリンク記法 (`[[[...]]]` や `[http://... ...]`) は、そのまま文字列として保持します。
* メタ情報は存在しない場合もあります。

## 出力ファイル

* `en_tags.json`
